{% extends "layouts/base.html" %}

{% block title %} Datenvisualisierung {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
canvas {
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
    }
</style>
{% endblock stylesheets %}

{% block content %}

    <div class="content">
        <div class="page-inner">
            <div class="page-header">
                <h4 class="page-title">Datenvisualisierung</h4>
                <ul class="breadcrumbs">
                    <li class="nav-home">
                        <a href="#">
                            <i class="flaticon-home"></i>
                        </a>
                    </li>
                    <li class="separator">
                        <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                        <a href="#">Pages</a>
                    </li>
                    <li class="separator">
                        <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'datavisu' %}">Datenvisualisierung</a>
                    </li>
                </ul>
            </div>
            <div class="page-category">Inner page content goes here</div>


            <h2>Chart.js für Visualisierung</h2>

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <div style ="width:50%;">
            <canvas id="myChart" width="200" height="200"></canvas>
                </div>

            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Fraud', 'No Fraud'],
                        datasets: [{
                            label: 'input_file',
                            data: [21, 197],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>

            <h3>Chart.js für Boxplot-Visualisierung</h3>

            <script src="../node_modules/chart.js/dist/Chart.bundle.js"></script>
            <script src="../build/Chart.BoxPlot.js" type="text/javascript"></script>

            <div id="container" style="width: 75%;">
            <canvas id="canvas"></canvas>
            </div>

            <script>
                function randomValues(count, min, max) {
                const delta = max - min;
                return Array.from({length: count}).map(() => Math.random() * delta + min);
                }
                    const boxplotData = {
                    // define label tree
                        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                        datasets: [{
                            label: 'Dataset 1',
                            backgroundColor: 'rgba(255,0,0,0.5)',
                            borderColor: 'red',
                            borderWidth: 1,
                            outlierColor: '#999999',
                            padding: 10,
                            itemRadius: 0,
                        data: [
                          randomValues(100, 0, 100),
                          randomValues(100, 0, 20),
                          randomValues(100, 20, 70),
                          randomValues(100, 60, 100),
                          randomValues(40, 50, 100),
                          randomValues(100, 60, 120),
                          randomValues(100, 80, 100)
                        ]
                    }, {
                            label: 'Dataset 2',
                            backgroundColor:  'rgba(0,0,255,0.5)',
                            borderColor: 'blue',
                            borderWidth: 1,
                            outlierColor: '#999999',
                            padding: 10,
                            itemRadius: 0,
                        data: [
                          randomValues(100, 60, 100),
                          randomValues(100, 0, 100),
                          randomValues(100, 0, 20),
                          randomValues(100, 20, 70),
                          randomValues(40, 60, 120),
                          randomValues(100, 20, 100),
                          randomValues(100, 80, 100)
                        ]
                      }]
                    };
                window.onload = () => {
                  const ctx = document.getElementById("canvas").getContext("2d");
                  window.myBar = new Chart(ctx, {
                    type: 'boxplot',
                    data: boxplotData,
                    options: {
                      responsive: true,
                      legend: {
                        position: 'top',
                      },
                      title: {
                        display: true,
                        text: 'Chart.js Box Plot Chart'
                      }
                    }
                  });

                };
</script>
        </div>
    </div>


<!-- Indexcode für Upload Feld (Schritt 1) -->
<!--<div class="container card" style="margin-top: 50px; padding: 30px">
    <div class="row justify-content-center container">
        <div class="content">
              <h1> Please upload your csv file </h1> <br>
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row content">
                        <div class="col"> <br>
                            <input type="file" name="document" id="document" required="required">
                        </div>

                         <div class="col">
                             <p id="id"> Attribute ID</p>
                            <input type="text" name="attributeid" id="attributeid" required="required">
                        </div>

                         <div class="col"> <br>
                            <button id="submit" class="btn-primary"> Upload</button>
                        </div>
                    </div>
                </form>
        <br>

    {% block messages %}
        {% if messages %}
            <div class="container" style="color: firebrick; margin-top: 20px" >
            {% for message in messages %}
                {{ message }}
            {% endfor %}
            </div>
        {% endif %}
    {% endblock %}
              </div>
</div>
</div>
<div style="width:1000;height:100">
{{ bliblablubb|safe }}
</div>-->

<!--<img src="myBoxplot.jpg" alt="Boxplot of machine learning algo" width="500" height="600">
    <p>{{test}}</p>
    <p>Test Julia</p>
{% endblock content %}-->


<!-- Test2 Darstellung Boxplot (Julia und Sophie) -->



<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% endblock javascripts %}
