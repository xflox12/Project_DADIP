{% extends "layouts/base.html" %}

{% block title %} Datenanzeige {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs5/jq-3.3.1/jszip-2.5.0/dt-1.10.25/b-1.7.1/b-colvis-1.7.1/b-html5-1.7.1/b-print-1.7.1/fc-3.3.3/fh-3.1.9/sb-1.1.0/sl-1.3.3/datatables.min.css"/>

    <style>
    .btn-secondary {
    background: lightseagreen!important;
    border-color: lightseagreen!important;
}
    </style>


{% endblock stylesheets %}

{% block content %}

    <div class="content">
        <div class="page-inner">
            <div class="page-header">
                <h4 class="page-title">Datenanzeige</h4>
                <ul class="breadcrumbs">
                    <li class="nav-home">
                        <a href="#">
                            <i class="flaticon-home"></i>
                        </a>
                    </li>
                    <li class="separator">
                        <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                        <a href="#">Pages</a>
                    </li>
                    <li class="separator">
                        <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'showdata' %}">Datenanzeige</a>
                    </li>
                </ul>
            </div>
            <div class="page-category">Inner page content goes here


                <!--Import Data via Django context variable-->
                <h1> Eingelesene Datentabelle </h1>

                {{ data | safe }}

                {{ dataTypesColumns }}


            </div>
        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
    <!-- <script type="text/javascript" charset="utf8"
             src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>-->

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs5/jq-3.3.1/jszip-2.5.0/dt-1.10.25/b-1.7.1/b-colvis-1.7.1/b-html5-1.7.1/b-print-1.7.1/fc-3.3.3/fh-3.1.9/sb-1.1.0/sl-1.3.3/datatables.min.js"></script>




    <script>

        /*
                { % if context.showData %}
                    var showData ={ { context.showData }};
                { % endif %}

                */

        $(document).ready(function () {
            var table = $('#dataShowTable').DataTable(
                {
                    "scrollX": true,
                    "lengthMenu": [[5, 10, 20, 50, 100, -1], [5, 10, 20, 50, 100, "All"]],
                    "order": [[1, "desc"]],  //Standardmäßig absteigend nach Datum sortieren
                    dom: 'Blfrtpi',      //Anordnung der Buttons
                    "bStateSave": false,  //cookie zum Speichern der Filtereinstellungen usw.
                    //fixedColumns: {heightMatch: 'auto'},

                    buttons: [
                        {
                            extend: 'copyHtml5',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'excelHtml5',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'pdfHtml5',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'colvis',
                            //columns: ':eq(2),:eq(3),:eq(4),:eq(5),:eq(6),:eq(7),:eq(8),:eq(9)'
                        },
                    ],
                }
            );

            table.buttons().container()
                .appendTo($('.col-sm-6:eq(0)', table.table().container()));

        });


    </script>

{% endblock javascripts %}
